---
layout: post
title: Multi Database Yii Framework
categories:
- PHP
- yiiframework
tags:
- multidatabase
- PHP
- sql server
- yiiframework
status: publish
type: post
published: true
description: Working with Multiple-Database with yiiframework
meta:
  geo_public: '0'
  publicize_twitter_user: levb20
---
If you need to connect to more database in Yii framework is very easy, like others frameworks with Yii you can connect with two or more databases in the same time and in the same workspace, you only need to write in your main.php file in config folder a second array like this:
{% highlight php %}
// default string connection MySQL database
        'db'=>array(
            'connectionString' => 'mysql:host=localhost;dbname=mysqldb',
            'emulatePrepare' => true,
            'username' => 'root',
            'password' => '',
            'charset' => 'utf8',
        ),
// string SQL Server database
        'dbSql'=>array(
            'class'=>'CDbConnection',
            'connectionString' => 'mssql:host=localhost;dbname=sqldb',
            'username' => 'user',
            'password' => '',
            'charset' => 'utf8',
        ),
{% endhighlight %}
and if you need to test your second connection you can create a function and write something like this:
{% highlight php %}
$connection=Yii::app()->dbSql;
$query = "UPDATE tbl_depto SET CODIGO=$model->CODIGO, DESCRIPCION='$model->DESCRIPCION'
where ID=$model->ID";
$command=$connection->createCommand($query);
$command->execute();
{% endhighlight %}
and that’s it, and if you are Using Linux maybe you will get a little problems with the connection on SQL SERVER because when you install PHP on Linux, by default doesn’t install the PDO_DRIVER for MSSQL, i posted before how to fix this problem, and that’s it, really easy don’t you think
